!function(){"use strict";function e(){var e=$(".see-more-filters-m");0===e.children().length?e.closest(".collapsible-xl").addClass("d-none"):$(".collapsible-xl").removeClass("d-none")}var s=!0,t=$("body");function i(){var e=$("#wishlist-tooltiptext-added").text(),s=[];try{s=sessionStorage.getItem("wishlist")?JSON.parse(sessionStorage.getItem("wishlist")):[]}catch(e){s=[]}var t=$(".product .product-tile").toArray();t&&t.length>0&&t.forEach((function(t){var i,l=$(t).data("lowestvariantpid"),o=$(t).data("pid"),a=[];if(s.length>0&&(a=s.filter((function(e){return e===l||e===o}))),a.length>0&&(i=a[0]),i&&(i===l||i===o)){var r=$(t).find(".like span"),n=$(t).find(".wishlist-tooltiptext");$(r).addClass("already-added-to-wishlist"),$(r).removeClass("wishlist-tile"),$(r).find(".wishlist-tooltiptext").addClass("d-none"),n.text(e);var c=$(r).find(".wishlist-tooltip");c.hasClass("add-to-wishlist-icon")&&c.removeClass("add-to-wishlist-icon").addClass("added-to-wishlist-icon")}}))}function l(){$(".product-grid .category-grid-banner-slot").toArray().forEach((function(e){0===$(e).find("div.category-grid-banner").length&&($(e).hide(),$(e).removeClass("d-sm-block"))}))}function o(){var e=$(".updated-items-quantity").text(),s=$(".items-quantity"),t=$(".notification-handler.success"),i=$(".item-type-alert .count");e?(s.html(" "+e),t.css("display","block"),i.text(e)):t.css("display","block")}t.on("click",(function(){s&&($("#see-more-filters").hide(),$(".collapsible-custom").removeClass("active")),$(".filter-bar-desktop :first-child").length<5&&$(".filter-bar-desktop").addClass("d-none"),s=!0})),t.on("click",".refinment-button",(function(){var t=$(this).closest(".collapsible-xl");$(".seemore-mobile").removeClass("seemore-open"),$(".filter-bar-desktop :first-child").length>5?$(".filter-bar-desktop").removeClass("d-none"):$(".filter-bar-desktop").addClass("d-none"),$(".collapsible-xl").not(t).removeClass("active"),s=!1,!$(this).closest("#see-more-filters").length>0&&($(this).hasClass("collapsible-custom")||($("#see-more-filters").hide(),$(".collapsible-custom").removeClass("active"))),!$(this).closest("#see-more-filters-m").length>0&&($(this).hasClass("collapsible-custom-m")||($("#see-more-filters-m").hide(),$(".collapsible-custom-m").removeClass("active"))),e()})),$("body").on("click",".collapsible-custom-m",(function(){$(".seemore-mobile").removeClass("active").toggleClass("seemore-open"),$(".see-more-filters-m .collapsible-xl").removeClass("open")})),$("body").on("click",".seemore-inner-title ",(function(){$(this).closest(".collapsible-xl").toggleClass("open")})),t.on("mouseup","#reset-desktop, .filter-bar-desktop",(function(){s&&($("#see-more-filters").hide(),$(".collapsible-custom").removeClass("active")),s=!0,e()})),$(".filter-bar-desktop").addClass("d-none"),t.on("click",".collapsible-custom",(function(){$(".collapsible-custom").hasClass("active")?($("#see-more-filters").hide(),$(".collapsible-custom").removeClass("active")):($("#see-more-filters").show(),$(".collapsible-custom").addClass("active"))})),$(document).on("click",(function(e){$(e.target).is(".modal-background")&&$(".modal-background").hide(),$(".filter-sort-wrapper .skull-list h2").remove()})),t.on("click",".recently-viewed-btn",(function(){var e=$(".einstein-carousel-recently-viewed.modal");e.addClass("d-block"),e.addClass("bg-modal"),e.removeClass("fade"),e.addClass("show"),$(".einstein-carousel-recently-viewed ul.slick-dots li.slick-active button").click()})),t.on("click",".recently-viewed-close",(function(){var e=$(".einstein-carousel-recently-viewed.modal");e.addClass("fade"),e.removeClass("show"),e.removeClass("d-block"),e.removeClass("bg-modal")})),$(window).scroll((function(){if($("#see-more-filters").hide(),$(".collapsible-custom").removeClass("active"),$(window).width()<768){var e=$(".hero-footer");if(e.length){var s=e.offset().top;window.pageYOffset>s?$(".filter-position").addClass("addtop"):$(".filter-position").removeClass("addtop")}}})),$(document).ready((function(){var s;l(),o(),(s=$("#getWishlistURL").val())&&$.ajax({url:s,type:"get",dataType:"json",data:{publicView:!1,pageNumber:1},success:function(e){var s,t=e&&e.list&&e.list.items?e.list.items:[],l=[];t.length>0&&t.forEach((function(e){l.push(e.pid)}));try{s=JSON.stringify(l)}catch(e){s=""}sessionStorage.setItem("wishlist",s),i()},error:function(){}}),e(),$("#main-plp").length>0&&$("#product-search-results .grid-header,#product-search-results .filter-bar").addClass("filter-position"),$(window).width()<1025&&($(".refinements-section .nav-tabs .nav-item").first().find(".nav-link").addClass("active"),$(".refinements-section .tab-content .refinement").first().addClass("active show"))})),$(".product-grid").on("DOMNodeInserted",(function(e){$(e.target).hasClass("grid-footer")&&(l(),i()),"quantity-items-span"===e.target.id&&o()}))}();